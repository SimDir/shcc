# Концепт умного дома
Проект на стадии разработки. Функционал умного дома ещё не реализован.
## Цели проекта
Разработка простого сервера умного дома на языке PHP:
- поддержка оборудования, которое имеется у автора проекта;
- максимально простой и понятный код на PHP;
- возможность запуска сервера на одноплатных ПК.
Идея создания данного проекта родилась после использования проекта [Majordomo](https://github.com/sergejey/majordomo), внутри которого очень много устаревшего и потенциально опасного кода (например, не используются подготовленные выражения при работе с БД).

На данный момент проект не ставит своими целями:
- создание клона [Majordomo](https://github.com/sergejey/majordomo);
- создание удобного для конечного пользователя продукта с простой установкой и настройкой без необходимости вникать в программный код;
- поддержки всех имеющихся версий PHP: минимально PHP 7.0, возможно повышение версии в процессе разработки;
- поддержки конфигураций PHP, которые не имеют в своём составе необходимых для работы модулей (отказ от использования полифилов в серверном коде);
- поддержки работы сервера на семействе ОС Windows.
## Системные требования
- PHP 7.0 или выше;
- поддержка разделяемой памяти (соберите PHP с опцией --enable-sysvshm).

## Уже реализовано
Реализовано два процесса, которые в будущем должны будут работать в виде потоков в демоне. Процессы обрабатывают данные от оборудования Xiaomi и Yeelight.
### Поддержка умного дома Xiaomi
Поддерживается следующее оборудование:
- Xiaomi Gateway - шлюз Xiaomi;
- Xiaomi Temperature And Humidity Sensor - датчик температуры и влажности;
- Aqara Temperature, Humidity And Pressure Sensor датчик температуры, влажности и атмосферного давления;
- Xiaomi Motion Sensor - датчик движения;
- Xiaomi Magnet Sensor - датчик открытия двери/окна.
- 
### Поддержка светильников Yeelight
Работает обнаружение светильников и передача команд. Информация о состоянии в реальном времени пока не обновляется.
Должно поддерживаться большинство существующего оборудования, которое работает по протоколу Yeelight. Из нереализованного - управление фоновой подсветкой (у меня пока нет необходимости, но реализуется очень просто).